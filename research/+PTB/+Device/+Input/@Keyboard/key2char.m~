function asc = key2ascii(key,k)
% PTB.Device.Input.Keyboard.key2ascii
% 
% Description:	get the ASCII code of a key given its state index
% 
% Syntax:	asc = key.key2ascii(k)
% 
% In:
%	k	- the state index
% 
% Out:
%	asc	- the ASCII code of the character, or NaN if it has none
%
% Updated: 2011-12-24
% Copyright 2011 Alex Schlegel (schlegel@gmail.com).  This work is licensed
% under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported
% License.
persistent k2a;

if isempty(k2a)
	cMap	=	{
					'1'		11
					'2'		12
					'3'		13
					'4'		14
					'5'		15
					'6'		16
					'7'		17
					'8'		18
					'9'		19
					'0'		20
					'minus'		21
					'equal'		22
					'BackSpace'		23
					'Tab'		24
					'q'		25
					'w'		26
					'e'		27
					'r'		28
					't'		29
					'y'		30
					'u'		31
					'i'		32
					'o'		33
					'p'		34
					'bracketleft'		35
					'bracketright'		36
					'Return'		37
					'a'		39
					's'		40
					'd'		41
					'f'		42
					'g'		43
					'h'		44
					'j'		45
					'k'		46
					'l'		47
					'semicolon'		48
					'apostrophe'		49
					'grave'		50
					'backslash'		52
					'z'		53
					'x'		54
					'c'		55
					'v'		56
					'b'		57
					'n'		58
					'm'		59
					'comma'		60
					'period'		61
					'slash'		62
					'KP_Multiply'		64
					'space'		66
					'KP_Subtract'		83
					'KP_Add'		87
					'less'		95
					'KP_Divide'		107
					'KP_Equal'		126
					'KP_Decimal'		130
	
	k2a	= mapping;
	
	kMap	=	[
					
					
end

asc	= k2a(k);
